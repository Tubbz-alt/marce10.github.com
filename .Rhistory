KnitPost <- function(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file = NULL, categories = NULL , tags = NULL, tags.eq.cats = TRUE, rm.output.text = FALSE) {
if(!'package:knitr' %in% search()) library('knitr')
wdX <- getwd()
if(is.null(rmd.file)) stop("need to provide rmd.file biatch!")
## Blog-specific directories.  This will depend on how you organize your blog.
site.path <- site.path # directory of jekyll blog (including trailing slash)
rmd.path <- paste0(site.path, "_Rmd") # directory where your Rmd-files reside (relative to base)
fig.dir <- "assets/Rfig/" # directory to save figures
posts.path <- paste0(site.path, "_posts/") # directory for converted markdown files
cache.path <- paste0(site.path, "_cache") # necessary for plots
render_jekyll()
opts_knit$set(base.url = '/', base.dir = site.path)
opts_chunk$set(fig.path=fig.dir, fig.width=8.5, fig.height=5.25, dev='png', cache=F,
warning=F, message=F, cache.path=cache.path, tidy=F, dpi = 70)
setwd(rmd.path) # setwd to base
corresponding.md.file <- paste0(posts.path, "/", basename(gsub(pattern = "\\.Rmd$", replacement = ".md", x = rmd.file)))
#knitr!!
out.file <- knit(as.character(rmd.file),
output = as.character(corresponding.md.file),
envir = parent.frame(),
quiet = T)
message(paste0("KnitPost(): ", rmd.file))
#fix heading to jekyll format
#add layout post
x <- readLines(corresponding.md.file)
x <- c(x[1], "layout: post", x[2:length(x)])
#fix date format
dl <- grep("date:", x)
dln <- x[dl]
dln <- gsub("date:","", dln)
y <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 1)
y <- gsub(" ","", y)
m <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 2)
m <- gsub(" ","", m)
d <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 3)
d <- gsub(" ","", d)
dln <- paste(d, m, y, sep = "-")
dln <- gsub('"',"", dln)
dln <- gsub(' ',"", dln)
x[dl] <- paste("date:", dln)
#remove output:
x <- x[-grep("output:", x)]
#remove md_document:
x <- x[-grep("md_document:", x)]
#remove variant: markdown_github
x <- x[-grep("variant: markdown_github", x)]
#remove output:
x <- x[-grep("author:", x)]
#put it together as a file
cat(x, file = corresponding.md.file, sep="\n")
#change name to include date
nn <- paste(y, m , d, basename(corresponding.md.file), sep = "-")
nn <- gsub('"',"", nn)
#replace spaces with _
nn <- gsub(" ","_", nn)
file.rename(from = corresponding.md.file, to = file.path(posts.path, nn))
unlink(list.files(path = "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/", pattern = "\\.wav$"))
setwd(wdX)
}
# spectro-PCA
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Issues spectral parameters-PCA.Rmd", rm.output.text = F)
# spectro-PCA
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Issues spectral parameters-PCA.Rmd", rm.output.text = F)
# spectro-PCA
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Issues spectral parameters-PCA.Rmd", rm.output.text = F)
# spectro-PCA
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Issues spectral parameters-PCA.Rmd", rm.output.text = F)
#function modified from http://brooksandrew.github.io/simpleblog/articles/blogging-with-r-markdown-and-jekyll-using-knitr/
KnitPost <- function(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file = NULL, categories = NULL , tags = NULL, tags.eq.cats = TRUE, rm.output.text = FALSE) {
if(!'package:knitr' %in% search()) library('knitr')
wdX <- getwd()
if(is.null(rmd.file)) stop("need to provide rmd.file biatch!")
## Blog-specific directories.  This will depend on how you organize your blog.
site.path <- site.path # directory of jekyll blog (including trailing slash)
rmd.path <- paste0(site.path, "_Rmd") # directory where your Rmd-files reside (relative to base)
fig.dir <- "assets/Rfig/" # directory to save figures
posts.path <- paste0(site.path, "_posts/") # directory for converted markdown files
cache.path <- paste0(site.path, "_cache") # necessary for plots
render_jekyll()
opts_knit$set(base.url = '/', base.dir = site.path)
opts_chunk$set(fig.path=fig.dir, fig.width=8.5, fig.height=5.25, dev='png', cache=F,
warning=F, message=F, cache.path=cache.path, tidy=F, dpi = 70)
setwd(rmd.path) # setwd to base
corresponding.md.file <- paste0(posts.path, "/", basename(gsub(pattern = "\\.Rmd$", replacement = ".md", x = rmd.file)))
#knitr!!
out.file <- knit(as.character(rmd.file),
output = as.character(corresponding.md.file),
envir = parent.frame(),
quiet = T)
message(paste0("KnitPost(): ", rmd.file))
#fix heading to jekyll format
#add layout post
x <- readLines(corresponding.md.file)
x <- c(x[1], "layout: post", x[2:length(x)])
#fix date format
dl <- grep("date:", x)
dln <- x[dl]
dln <- gsub("date:","", dln)
y <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 1)
y <- gsub(" ","", y)
m <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 2)
m <- gsub(" ","", m)
d <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 3)
d <- gsub(" ","", d)
dln <- paste(d, m, y, sep = "-")
dln <- gsub('"',"", dln)
dln <- gsub(' ',"", dln)
x[dl] <- paste("date:", dln)
#remove output:
x <- x[-grep("output:", x)]
#remove md_document:
x <- x[-grep("md_document:", x)]
#remove variant: markdown_github
x <- x[-grep("variant: markdown_github", x)]
#remove output:
x <- x[-grep("author:", x)]
#put it together as a file
cat(x, file = corresponding.md.file, sep="\n")
#change name to include date
nn <- paste(y, m , d, basename(corresponding.md.file), sep = "-")
nn <- gsub('"',"", nn)
#replace spaces with _
nn <- gsub(" ","_", nn)
file.rename(from = corresponding.md.file, to = file.path(posts.path, nn))
unlink(list.files(path = "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/", pattern = "\\.wav$"))
setwd(wdX)
}
system("git add .")
system('git commit -m "typo"')
system("git push origin HEAD:master")
source('~/.active-rstudio-document', echo=TRUE)
#function modified from http://brooksandrew.github.io/simpleblog/articles/blogging-with-r-markdown-and-jekyll-using-knitr/
KnitPost <- function(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file = NULL, categories = NULL , tags = NULL, tags.eq.cats = TRUE, rm.output.text = FALSE) {
if(!'package:knitr' %in% search()) library('knitr')
wdX <- getwd()
if(is.null(rmd.file)) stop("need to provide rmd.file biatch!")
## Blog-specific directories.  This will depend on how you organize your blog.
site.path <- site.path # directory of jekyll blog (including trailing slash)
rmd.path <- paste0(site.path, "_Rmd") # directory where your Rmd-files reside (relative to base)
fig.dir <- "assets/Rfig/" # directory to save figures
posts.path <- paste0(site.path, "_posts/") # directory for converted markdown files
cache.path <- paste0(site.path, "_cache") # necessary for plots
render_jekyll()
opts_knit$set(base.url = '/', base.dir = site.path)
opts_chunk$set(fig.path=fig.dir, fig.width=8.5, fig.height=5.25, dev='png', cache=F,
warning=F, message=F, cache.path=cache.path, tidy=F, dpi = 70)
setwd(rmd.path) # setwd to base
corresponding.md.file <- paste0(posts.path, "/", basename(gsub(pattern = "\\.Rmd$", replacement = ".md", x = rmd.file)))
#knitr!!
out.file <- knit(as.character(rmd.file),
output = as.character(corresponding.md.file),
envir = parent.frame(),
quiet = T)
message(paste0("KnitPost(): ", rmd.file))
#fix heading to jekyll format
#add layout post
x <- readLines(corresponding.md.file)
x <- c(x[1], "layout: post", x[2:length(x)])
#fix date format
dl <- grep("date:", x)
dln <- x[dl]
dln <- gsub("date:","", dln)
y <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 1)
y <- gsub(" ","", y)
m <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 2)
m <- gsub(" ","", m)
d <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 3)
d <- gsub(" ","", d)
dln <- paste(d, m, y, sep = "-")
dln <- gsub('"',"", dln)
dln <- gsub(' ',"", dln)
x[dl] <- paste("date:", dln)
#remove output:
x <- x[-grep("output:", x)]
#remove md_document:
x <- x[-grep("md_document:", x)]
#remove variant: markdown_github
x <- x[-grep("variant: markdown_github", x)]
#remove output:
x <- x[-grep("author:", x)]
#put it together as a file
cat(x, file = corresponding.md.file, sep="\n")
#change name to include date
nn <- paste(y, m , d, basename(corresponding.md.file), sep = "-")
nn <- gsub('"',"", nn)
#replace spaces with _
nn <- gsub(" ","_", nn)
file.rename(from = corresponding.md.file, to = file.path(posts.path, nn))
unlink(list.files(path = "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/", pattern = "\\.wav$"))
setwd(wdX)
}
#
# # updates on catalog
# KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Updates on catalog function.Rmd", rm.output.text = F)
#
#
# # seltailor
# KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Fixing selections manually.Rmd", rm.output.text = F)
#
#
# # Rraven
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Rraven: Connecting R and Raven Sound Analysis Software.Rmd", rm.output.text = F)
#
# # updates on catalog
# KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Updates on catalog function.Rmd", rm.output.text = F)
#
#
# # seltailor
# KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Fixing selections manually.Rmd", rm.output.text = F)
#
#
# # Rraven
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Rraven: Connecting R and Raven Sound Analysis Software.Rmd", rm.output.text = F)
setwd("~/Dropbox/Websites/Blog/maRce10.github.com")
system("git add .")
system('git commit -m "changes according to changes in functions"')
system("git push origin HEAD:master")
# vector with packages needed
w <- c("Rtsne", "githubinstall", "mclust", "RColorBrewer")
# load/install each with a loop
for(i in w)
if (!require((i), character.only = TRUE)) install.packages(i)
# install/load warbleR from github (remove it first if already installed)
githubinstall("warbleR", ask = FALSE, force = TRUE)
library(warbleR)
# set warbleR options
warbleR_options(bp =  c(2, 10), flim = c(3.5, 10.5), pb = TRUE, wl = 200,
ovlp = 90, parallel = 3, pal = reverse.heat.colors)
# create nice color pallete
cmc <- function(n) rep(adjustcolor(brewer.pal(5, "Spectral"),
alpha.f = 0.6),
ceiling(n/4))[1:n]
setwd(tempdir())
library(knitr)
library(kableExtra)
Phae.stri <- readRDS("~/Dropbox/Websites/Blog/Phae.stri.RDS")
writeWave(Phae.stri[[1]], "Phaethornis-striigularis-154074.wav")
snr <- Phae.stri[[2]]
ad <- snr[rank(-snr$SNR) <= 100, ]
ad.est <- selection_table(X = ad, extended = TRUE, confirm.extended = FALSE)
est <- freq_range(X = ad.est, bp = c(2, 12), fsmooth = 0.001, ovlp = 95,
wl = 200, threshold = 10, img = FALSE, impute = T)
est <- fix_extended_selection_table(X = est, Y = ad.est)
catalog(est, nrow = 10, ncol = 10, mar = 0.01, labels = "selec",
flim = c(3.5, 10.5), ovlp = 30, pal = reverse.heat.colors,
pb = FALSE, width = 15, box = FALSE, spec.mar = 0.5,
max.group.cols = 4, tag.pal = list(cmc), cex = 2, rm.axes = TRUE)
sp <- spec_an(X = est)
pca <- prcomp(sp[ , -c(1,2)], scale. = TRUE)
pca_sp <- summary(pca)
barplot(pca_sp$importance[3, 1:10], col = rev(.Options$warbleR$pal(10)),
ylab = "Cumulative variance explained", xlab = "PCs",
ylim = c(0, 1))
abline(h = 0.8, lty = 2)
# run mclust
sp_clust <- Mclust(as.matrix(pca_sp$x[, 1:5]), G=1:15,
modelNames = mclust.options("emModelNames"),
verbose = FALSE)
# add cluster label to each element (row)
est$class.sp <- as.character(sp_clust$classification)
# add a 0 to each value so they are displayed in order
est$class.sp <- ifelse(nchar(est$class.sp) == 1,
paste0(0, est$class.sp), est$class.sp)
plot(pca_sp$x[, 1], pca_sp$x[, 2], col = as.numeric(est$class.sp),
pch = as.numeric(est$class.sp), cex = 1.5, xlab = "PC1",
ylab = "PC2")
df <- df_DTW(X = est, wl = 200, threshold = 10, img = FALSE,
clip.edges = TRUE, bp =  c(2, 10))
df <- df_DTW(X = est, wl = 200, threshold = 10, img = FALSE,
clip.edges = TRUE, bp =  c(2, 10), pb = FALSE)
# set seed so we all get the same results
set.seed(10)
# run TSNE
tsne.df <- Rtsne(X = as.dist(df), theta = 0.01, dims = 5,
is_distance = TRUE)
tsne.df
# set seed so we all get the same results
set.seed(10)
tsne.df <- Rtsne(X = as.dist(df), theta = 0.01, dims = 2,
is_distance = TRUE)
plot(tsne.df$Y[, 1], tsne.df$Y[, 2], col = as.numeric(est$class.df),
pch = as.numeric(est$class.df) + 5, cex = 1.5, xlab = "Dim 1",
ylab = "Dim 2")
tsne.df
tsne.df$Y
tsne.df$Y[, 2]
as.numeric(est$class.df)
class.df
# label elements (rows)
est$class.df <- as.character(df_clust$classification)
est$class.df <- ifelse(nchar(est$class.df) == 1,  paste0(0, est$class.df), est$class.df)
# set seed so we all get the same results
set.seed(10)
# run TSNE
tsne.df <- Rtsne(X = as.dist(df), theta = 0.01, dims = 5,
is_distance = TRUE)
# clustering
df_clust <- Mclust(as.matrix(tsne.df$Y), G=1:15,
modelNames = mclust.options("emModelNames"),
verbose = FALSE)
# label elements (rows)
est$class.df <- as.character(df_clust$classification)
est$class.df <- ifelse(nchar(est$class.df) == 1,  paste0(0, est$class.df), est$class.df)
# make catalog
catalog(est, nrow = 10, ncol = 10, mar = 0.01,
flim = c(3.5, 10.5), ovlp = 30, labels = "class.df",
group.tag = "class.df", pal = reverse.heat.colors,
pb = FALSE, width = 15, box = FALSE, spec.mar = 0.5,
title = "df_DTW/TSNE", img.suffix = "df_DTW-TSNE",
max.group.cols = 4, tag.pal = list(cmc),
cex = 2, rm.axes = TRUE)
# set seed so we all get the same results
set.seed(10)
tsne.df <- Rtsne(X = as.dist(df), theta = 0.01, dims = 2,
is_distance = TRUE)
plot(tsne.df$Y[, 1], tsne.df$Y[, 2], col = as.numeric(est$class.df),
pch = as.numeric(est$class.df) + 5, cex = 1.5, xlab = "Dim 1",
ylab = "Dim 2")
Phae.stri <- readRDS("~/Dropbox/Websites/Blog/Phae.stri.RDS")
#function modified from http://brooksandrew.github.io/simpleblog/articles/blogging-with-r-markdown-and-jekyll-using-knitr/
KnitPost <- function(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file = NULL, categories = NULL , tags = NULL, tags.eq.cats = TRUE, rm.output.text = FALSE) {
if(!'package:knitr' %in% search()) library('knitr')
wdX <- getwd()
if(is.null(rmd.file)) stop("need to provide rmd.file biatch!")
## Blog-specific directories.  This will depend on how you organize your blog.
site.path <- site.path # directory of jekyll blog (including trailing slash)
rmd.path <- paste0(site.path, "_Rmd") # directory where your Rmd-files reside (relative to base)
fig.dir <- "assets/Rfig/" # directory to save figures
posts.path <- paste0(site.path, "_posts/") # directory for converted markdown files
cache.path <- paste0(site.path, "_cache") # necessary for plots
render_jekyll()
opts_knit$set(base.url = '/', base.dir = site.path)
opts_chunk$set(fig.path=fig.dir, fig.width=8.5, fig.height=5.25, dev='png', cache=F,
warning=F, message=F, cache.path=cache.path, tidy=F, dpi = 70)
setwd(rmd.path) # setwd to base
corresponding.md.file <- paste0(posts.path, "/", basename(gsub(pattern = "\\.Rmd$", replacement = ".md", x = rmd.file)))
#knitr!!
out.file <- knit(as.character(rmd.file),
output = as.character(corresponding.md.file),
envir = parent.frame(),
quiet = T)
message(paste0("KnitPost(): ", rmd.file))
#fix heading to jekyll format
#add layout post
x <- readLines(corresponding.md.file)
x <- c(x[1], "layout: post", x[2:length(x)])
#fix date format
dl <- grep("date:", x)
dln <- x[dl]
dln <- gsub("date:","", dln)
y <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 1)
y <- gsub(" ","", y)
m <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 2)
m <- gsub(" ","", m)
d <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 3)
d <- gsub(" ","", d)
dln <- paste(d, m, y, sep = "-")
dln <- gsub('"',"", dln)
dln <- gsub(' ',"", dln)
x[dl] <- paste("date:", dln)
#remove output:
x <- x[-grep("output:", x)]
#remove md_document:
x <- x[-grep("md_document:", x)]
#remove variant: markdown_github
x <- x[-grep("variant: markdown_github", x)]
#remove output:
x <- x[-grep("author:", x)]
#put it together as a file
cat(x, file = corresponding.md.file, sep="\n")
#change name to include date
nn <- paste(y, m , d, basename(corresponding.md.file), sep = "-")
nn <- gsub('"',"", nn)
#replace spaces with _
nn <- gsub(" ","_", nn)
file.rename(from = corresponding.md.file, to = file.path(posts.path, nn))
unlink(list.files(path = "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/", pattern = "\\.wav$"))
setwd(wdX)
}
# spectro-PCA
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Issues spectral parameters-PCA.Rmd", rm.output.text = F)
# spectro-PCA
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Issues spectral parameters-PCA.Rmd", rm.output.text = F)
# spectro-PCA
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Issues spectral parameters-PCA.Rmd", rm.output.text = F)
setwd("~/Dropbox/Websites/Blog/maRce10.github.com")
system("git add .")
system('git commit -m "update PCA issues')
system("git push origin HEAD:master")
system("git add .")
system('git commit -m "update PCA issues"')
system("git push origin HEAD:master")
system("git add .")
system('git commit -m "feed fix"')
system("git push origin HEAD:master")
system("git add .")
system('git commit -m "feed fix 2"')
system("git push origin HEAD:master")
system("git add .")
system('git commit -m "feed fix 3"')
system("git push origin HEAD:master")
#function modified from http://brooksandrew.github.io/simpleblog/articles/blogging-with-r-markdown-and-jekyll-using-knitr/
KnitPost <- function(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file = NULL, categories = NULL , tags = NULL, tags.eq.cats = TRUE, rm.output.text = FALSE) {
if(!'package:knitr' %in% search()) library('knitr')
wdX <- getwd()
if(is.null(rmd.file)) stop("need to provide rmd.file biatch!")
## Blog-specific directories.  This will depend on how you organize your blog.
site.path <- site.path # directory of jekyll blog (including trailing slash)
rmd.path <- paste0(site.path, "_Rmd") # directory where your Rmd-files reside (relative to base)
fig.dir <- "assets/Rfig/" # directory to save figures
posts.path <- paste0(site.path, "_posts/") # directory for converted markdown files
cache.path <- paste0(site.path, "_cache") # necessary for plots
render_jekyll()
opts_knit$set(base.url = '/', base.dir = site.path)
opts_chunk$set(fig.path=fig.dir, fig.width=8.5, fig.height=5.25, dev='png', cache=F,
warning=F, message=F, cache.path=cache.path, tidy=F, dpi = 70)
setwd(rmd.path) # setwd to base
corresponding.md.file <- paste0(posts.path, "/", basename(gsub(pattern = "\\.Rmd$", replacement = ".md", x = rmd.file)))
#knitr!!
out.file <- knit(as.character(rmd.file),
output = as.character(corresponding.md.file),
envir = parent.frame(),
quiet = T)
message(paste0("KnitPost(): ", rmd.file))
#fix heading to jekyll format
#add layout post
x <- readLines(corresponding.md.file)
x <- c(x[1], "layout: post", x[2:length(x)])
#fix date format
dl <- grep("date:", x)
dln <- x[dl]
dln <- gsub("date:","", dln)
y <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 1)
y <- gsub(" ","", y)
m <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 2)
m <- gsub(" ","", m)
d <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 3)
d <- gsub(" ","", d)
dln <- paste(d, m, y, sep = "-")
dln <- gsub('"',"", dln)
dln <- gsub(' ',"", dln)
x[dl] <- paste("date:", dln)
#remove output:
x <- x[-grep("output:", x)]
#remove md_document:
x <- x[-grep("md_document:", x)]
#remove variant: markdown_github
x <- x[-grep("variant: markdown_github", x)]
#remove output:
x <- x[-grep("author:", x)]
#put it together as a file
cat(x, file = corresponding.md.file, sep="\n")
#change name to include date
nn <- paste(y, m , d, basename(corresponding.md.file), sep = "-")
nn <- gsub('"',"", nn)
#replace spaces with _
nn <- gsub(" ","_", nn)
file.rename(from = corresponding.md.file, to = file.path(posts.path, nn))
unlink(list.files(path = "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/", pattern = "\\.wav$"))
setwd(wdX)
}
#
# # updates on catalog
# KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Updates on catalog function.Rmd", rm.output.text = F)
#
#
# # seltailor
# KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Fixing selections manually.Rmd", rm.output.text = F)
#
#
# # Rraven
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Rraven: Connecting R and Raven Sound Analysis Software.Rmd", rm.output.text = F)
system("git add .")
system('git commit -m "Rraven wording"')
system("git push origin HEAD:master")
system("git add .")
system('git commit -m "feed fix"')
system("git push origin HEAD:master")
system("git add .")
system('git commit -m "feed fix 2"')
system("git push origin HEAD:master")
system("git add .")
system('git commit -m "feed fix 3"')
system("git push origin HEAD:master")
library(warbleR)
setwd(tempdir())
data(list = c("Phae.long1", "Phae.long2", "Phae.long3", "selec.table"))
writeWave(Phae.long1,"Phae.long1.wav")
writeWave(Phae.long2,"Phae.long2.wav")
writeWave(Phae.long3,"Phae.long3.wav")
# measure acoustic parameters
sp_param <- specan(X = selec.table[1:8,], pb = FALSE)
names(sp_param)
names(sp_param, fast = T)
# measure acoustic parameters
sp_param <- specan(X = selec.table[1:8,], pb = FALSE, fast = T)
names(sp_param)
# measure acoustic parameters
sp_param <- specan(X = selec.table[1:8,], pb = FALSE, fast = F)
sp_param
names(sp_param)
# measure acoustic parameters
sp_param2 <- specan(X = selec.table[1:8,], pb = FALSE, fast = T)
names(sp_param2)
names(sp_param)
names(sp_param2)
# measure acoustic parameters
sp_param2 <- specan(X = selec.table[1:8,], pb = FALSE, fast = T, harmonicity = T)
names(sp_param2)
sp_param2
names(sp_param)
names(sp_param2)
