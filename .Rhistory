#
#   if(pattern == "backward")
#     rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 315)
#
#   if(pattern == "vertical")
#     rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 90)
#
#   if(pattern == "horizontal")
#     rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 0)
# }
}
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10)
rect.w <- function(xl, yb, xr, yt, bor, cl, ang = NULL, den = NULL)
{
# if(is.null(pattern))
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt, border = bor, col = cl, angle = ang, density = den)
# else {
#
#      if(pattern == "diamond")
#   {      rect(xleft, ybottom, xright, ytop , border , col, density , angle = 45)
#     rect(xleft, ybottom, xright, ytop ,border , col, density , angle = 135)
#     }
#
#   if(pattern == "grid")
#   {      rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 0)
#     rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 90)
#   }
#
#   if(pattern == "forward")
#   rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 45)
#
#   if(pattern == "backward")
#     rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 315)
#
#   if(pattern == "vertical")
#     rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 90)
#
#   if(pattern == "horizontal")
#     rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 0)
# }
}
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10)
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180)
rect.w <- function(xl, yb, xr, yt, bor, cl, ang = NULL, den = NULL, pattern = NULL)
{
if(is.null(pattern))
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt, border = bor, col = cl, angle = ang, density = den)
else {
if(pattern == "diamond")
{      rect(xleft, ybottom, xright, ytop , border , col, density , angle = 45)
rect(xleft, ybottom, xright, ytop ,border , col, density , angle = 135)
}
if(pattern == "grid")
{      rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 0)
rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 90)
}
if(pattern == "forward")
rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 45)
if(pattern == "backward")
rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 315)
if(pattern == "vertical")
rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 90)
if(pattern == "horizontal")
rect(xleft, ybottom, xright, ytop , border ,col, density , angle = 0)
}
}
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180 , pattern = NULL)
rect.w <- function(xl, yb, xr, yt, bor, cl, ang = NULL, den = NULL, pattern = NULL)
{
if(is.null(pattern))
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt, border = bor, col = cl, angle = ang, density = den)
else {
if(pattern == "diamond")
{      rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor , col = cl, density = den, angle = 45)
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt ,border = bor , col = cl, density = den, angle = 135)
}
if(pattern == "grid")
{      rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 0)
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 90)
}
if(pattern == "forward")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 45)
if(pattern == "backward")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 315)
if(pattern == "vertical")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 90)
if(pattern == "horizontal")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 0)
}
}
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180 , pattern = NULL)
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180 , pattern = "horizontal")
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180 , pattern = "vertical")
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180 , pattern = "grid")
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180 , pattern = "forward")
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180 , pattern = "backward")
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180 , pattern = "diamond")
rect.w <- function(xl, yb, xr, yt, bor, cl, ang = NULL, den = NULL, pattern = NULL, lw = 1)
{
if(is.null(pattern))
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt, border = bor, col = cl, angle = ang, density = den, lwd = lw)
else {
if(pattern == "diamond")
{      rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor , col = cl, density = den, angle = 45, lwd = lw)
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt ,border = bor , col = cl, density = den, angle = 135, lwd = lw)
}
if(pattern == "grid")
{      rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 0, lwd = lw)
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 90, lwd = lw)
}
if(pattern == "forward")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 45, lwd = lw)
if(pattern == "backward")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 315, lwd = lw)
if(pattern == "vertical")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 90, lwd = lw)
if(pattern == "horizontal")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 0, lwd = lw)
}
}
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180 , pattern = "diamond")
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180 , pattern = "diamond", lw = 3)
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180 , pattern = NULL, lw = 3)
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", pattern = NULL, lw = 3)
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", pattern = "grid", lw = 3)
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", pattern = "grid", lw = 3)
rect.w <- function(xl, yb, xr, yt, bor, cl, ang = NULL, den = NULL, pattern = NULL, lw = 1)
{
if(is.null(pattern))
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt, border = bor, col = cl, angle = ang, density = den, lwd = lw)
else {
if(pattern == "diamond")
{      rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor , col = cl, density = den, angle = 45, lwd = lw)
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt ,border = bor , col = cl, density = den, angle = 135, lwd = lw)
}
if(pattern == "grid")
{      rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 0, lwd = lw)
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 90, lwd = lw)
}
if(pattern == "forward")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 45, lwd = lw)
if(pattern == "backward")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 315, lwd = lw)
if(pattern == "vertical")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 90, lwd = lw)
if(pattern == "horizontal")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 0, lwd = lw)
}
}
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", pattern = "grid", lw = 1)
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180 , pattern = NULL, lw = 3)
rect.w <- function(xl, yb, xr, yt, bor, cl, ang = NULL, den = NULL, pattern = NULL, lw = 1)
{
if(is.null(pattern))
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt, border = bor, col = cl, angle = ang, density = den, lwd = lw)
else {
if(pattern == "diamond")
{      rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor , col = cl, density = den, angle = 45, lwd = lw)
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt ,border = bor , col = cl, density = den, angle = 135, lwd = lw)
}
if(pattern == "grid")
{      rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 0, lwd = lw)
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 90, lwd = lw)
}
if(pattern == "forward")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 45, lwd = lw)
if(pattern == "backward")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 315, lwd = lw)
if(pattern == "vertical")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 90, lwd = lw)
if(pattern == "horizontal")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 0, lwd = lw)
}
}
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = 180 , pattern = NULL, lw = 3)
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = NULL, ang = NULL, pattern = NULL, lw = 3)
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 2, ang = NULL, pattern = NULL, lw = 3)
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 2, ang = NULL, pattern = NULL, lw = 3)
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 2, ang = NULL, pattern = "grid", lw = 3)
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = NULL, pattern = "grid", lw = 2)
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = NULL, pattern = NULL, lw = 2)
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = NULL, pattern = "grid", lw = 2)
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = NULL, pattern = "diamond", lw = 2)
plot(0.5, xlim = c(0, 1), ylim = c(0, 1), type = "n", axes = FALSE, xlab = "", ylab = "", xaxt = "n", yaxt = "n")
rect.w(xl = -.04, yb = -1.04, xr = 0.5, yt = 0.5, bor = "black", cl = "red", den = 10, ang = NULL, pattern = "diamond", lw = 2)
rect.w <- function(xl, yb, xr, yt, bor, cl, ang = NULL, den = NULL, pattern = NULL, lw = 1)
{
if(is.null(pattern))
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt, border = bor, col = cl, angle = ang, density = den, lwd = lw)
else {
if(pattern == "diamond")
{      rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor , col = cl, density = den, angle = 45, lwd = lw)
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt ,border = bor , col = cl, density = den, angle = 135, lwd = lw)
}
if(pattern == "grid")
{      rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 0, lwd = lw)
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 90, lwd = lw)
}
if(pattern == "forward")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 45, lwd = lw)
if(pattern == "backward")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 315, lwd = lw)
if(pattern == "vertical")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 90, lwd = lw)
if(pattern == "horizontal")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 0, lwd = lw)
}
}
rect.w <- function(xl, yb, xr, yt, bor, cl, ang = NULL, den = NULL, pattern = NULL, lw = 1)
{
if(is.null(pattern))
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt, border = bor, col = cl, angle = ang, density = den, lwd = lw)
else {
if(pattern == "diamond")
{      rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor , col = cl, density = den, angle = 45, lwd = lw)
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt ,border = bor , col = cl, density = den, angle = 135, lwd = lw)
}
if(pattern == "grid")
{      rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 0, lwd = lw)
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 90, lwd = lw)
}
if(pattern == "forward")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 45, lwd = lw)
if(pattern == "backward")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 315, lwd = lw)
if(pattern == "vertical")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 90, lwd = lw)
if(pattern == "horizontal")
rect(xleft = xl, ybottom = yb, xright = xr, ytop = yt , border = bor ,col = cl, density = den, angle = 0, lwd = lw)
}
}
getwd()
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2, same.time.scale = T,
ovlp = 90, parallel = 1, mar = 0.01, wl = 200, gr = FALSE,
orientation = "v",  labels = c("sound.files", "selec"), legend = T)
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2, same.time.scale = T,
mar = 0.01, wl = 200, gr = FALSE, orientation = "v",  labels = c("sound.files", "selec"), legend = T)
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2, same.time.scale = TRUE,
mar = 0.01, wl = 200, gr = FALSE, orientation = "v")
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2, same.time.scale = FALSE,
mar = 0.01, wl = 200, gr = FALSE, orientation = "v",  tags = c("sound.files", "selec"))
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2, same.time.scale = FALSE,
mar = 0.01, wl = 200, gr = FALSE, orientation = "v",  tags = c("sound.files", "selec"), leg.wd = 3)
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2, same.time.scale = FALSE,
mar = 0.01, wl = 200, gr = FALSE, orientation = "v",  tags = c("sound.files", "selec"), leg.wd = 4)
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2, same.time.scale = FALSE,
mar = 0.01, wl = 200, gr = FALSE, orientation = "v",  tags = c("sound.files", "selec"), leg.wd = 8)
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2, same.time.scale = FALSE,
mar = 0.01, wl = 200, gr = FALSE, orientation = "v",  tags = c("sound.files", "selec"), leg.wd = 10)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Create song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
#function modified from http://brooksandrew.github.io/simpleblog/articles/blogging-with-r-markdown-and-jekyll-using-knitr/
KnitPost <- function(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file = NULL, categories = NULL , tags = NULL, tags.eq.cats = TRUE, rm.output.text = FALSE) {
if(!'package:knitr' %in% search()) library('knitr')
if(is.null(rmd.file)) stop("need to provide rmd.file biatch!")
## Blog-specific directories.  This will depend on how you organize your blog.
site.path <- site.path # directory of jekyll blog (including trailing slash)
rmd.path <- paste0(site.path, "_Rmd") # directory where your Rmd-files reside (relative to base)
fig.dir <- "assets/Rfig/" # directory to save figures
posts.path <- paste0(site.path, "_posts/") # directory for converted markdown files
cache.path <- paste0(site.path, "_cache") # necessary for plots
render_jekyll()
opts_knit$set(base.url = '/', base.dir = site.path)
opts_chunk$set(fig.path=fig.dir, fig.width=8.5, fig.height=5.25, dev='png', cache=F,
warning=F, message=F, cache.path=cache.path, tidy=F, dpi = 70)
setwd(rmd.path) # setwd to base
corresponding.md.file <- paste0(posts.path, "/", basename(gsub(pattern = "\\.Rmd$", replacement = ".md", x = rmd.file)))
#knitr!!
out.file <- knit(as.character(rmd.file),
output = as.character(corresponding.md.file),
envir = parent.frame(),
quiet = T)
message(paste0("KnitPost(): ", rmd.file))
#fix heading to jekyll format
#add layout post
x <- readLines(corresponding.md.file)
x <- c(x[1], "layout: post", x[2:length(x)])
#fix date format
dl <- grep("date:", x)
dln <- x[dl]
dln <- gsub("date:","", dln)
y <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 1)
y <- gsub(" ","", y)
m <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 2)
m <- gsub(" ","", m)
d <- sapply(strsplit(as.character(dln), "-",fixed=T), "[[", 3)
d <- gsub(" ","", d)
dln <- paste(d, m, y, sep = "-")
dln <- gsub('"',"", dln)
dln <- gsub(' ',"", dln)
x[dl] <- paste("date:", dln)
#remove output:
x <- x[-grep("output:", x)]
#remove md_document:
x <- x[-grep("md_document:", x)]
#remove variant: markdown_github
x <- x[-grep("variant: markdown_github", x)]
#remove output:
x <- x[-grep("author:", x)]
#     if(rm.output.text)
#    {
#     #determine start and end of output chuncks
#     a1 <-   grep("{% highlight text %}", x, fixed = T)
#     a2 <- numeric(length = length(a1))
#     A <- list()
#     for(i in 1:length(a1)) {
#       z <- grep("{% endhighlight %}", x, fixed = T)
#     a2[i] <- z[z > a1[i]][1]
#     A[[i]] <- a1[i]:a2[i]
#     }
#
#     A <- unlist(A)
#     x <- x[-A]
#       }
#
#     #add categories and tags
#     if(tags.eq.cats)
#       tags <- categories
#
#        dl2 <- grep("date:", x)
#     x <- c(x[1:dl2], paste("categories:", categories), x[(dl2 + 1):length(x)])
#     x <- c(x[1:(dl2 + 1)], paste("tags:", tags), x[(dl2 + 2):length(x)])
#
#
#     #add space before and after chuncks
#       #determine start and end of chuncks
#           b1 <-  grep("{% highlight r %}", x, fixed = T)
#     for(i in 1:length(b1))
#     {
#       #add before
#       pos <- grep("{% highlight r %}", x, fixed = T)[i]
#       # if(x[pos - 1] != "")
#         x <- c(x[1:(pos - 1)], "<br>", x[pos:length(x)])
#     }
#
#       b2 <-  grep("{% endhighlight %}", x, fixed = T)
#     for(i in 1:length(b2))
#     {
#       #add after
#       pos <- grep("{% endhighlight %}", x, fixed = T)[i]
#         x <- c(x[1:pos], "<br>", x[(pos + 1):length(x)])
#        }
#
#   #make all the empty lines a break
#   x[x == ""] <- "<br>"
#
#   rmls <- list()
#
#   for(i in 2:length(x)) if(x[i] == "<br>" & x[i] == x[i - 1])  rmls[[length(rmls) + 1]] <- i
#
#   x <- x[-unlist(rmls)]
#
#
# #remove the ones within chuncks
#     b1 <-  grep("{% highlight r %}", x, fixed = T)
#     b2 <-  grep("{% endhighlight %}", x, fixed = T)
#
#   rmchnk <- list()
#     for(i in 1:length(b1))
#       rmchnk[[length(rmchnk) + 1]] <- c(b1[i]:b2[b2 > b1[i]][1])
#
#   xchnk <- x[unlist(rmchnk)]
#   xchnk[xchnk == "<br>"] <- ""
#   x[unlist(rmchnk)] <-  xchnk
#remove highlight code in chunck header
# x <- gsub("{% highlight r %}|{% highlight text %}", "``` r", x, fixed = T)
# x <- gsub("{% endhighlight %}", "```", x, fixed = T)
#
# x[x == "{% highlight r %}"] <- "``` r"
# x[x == "{% highlight text %}"] <- "``` r"
# x[x == "{% endhighlight %}"] <- "```"
#
#put it together as a file
cat(x, file = corresponding.md.file, sep="\n")
#change name to include date
nn <- paste(y, m , d, basename(corresponding.md.file), sep = "-")
nn <- gsub('"',"", nn)
#replace spaces with _
nn <- gsub(" ","_", nn)
file.rename(from = corresponding.md.file, to = file.path(posts.path, nn))
unlink(list.files(path = "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/", pattern = "\\.wav$"))
}
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Create song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2, same.time.scale = FALSE,
mar = 0.01, wl = 200, gr = FALSE, orientation = "v",  tags = c("sound.files"), leg.wd = 10)
setwd(tempdir())
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2, same.time.scale = FALSE,
mar = 0.01, wl = 200, gr = FALSE, orientation = "v",  tags = c("sound.files"), leg.wd = 10)
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2, same.time.scale = FALSE,
mar = 0.01, wl = 200, gr = FALSE, orientation = "v",  tags = c("sound.files", "selec"), leg.wd = 10)
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2, same.time.scale = FALSE,
mar = 0.01, wl = 200, gr = FALSE, orientation = "h",  tags = c("sound.files", "selec"), leg.wd = 10)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Create song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE)
setwd(tempdir())
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE)
catalog(X = selec.table[1:10,], flim = c(1, 10), nrow = 5, ncol = 2,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE,
orientation = "h",  tags = c("sound.files", "selec"), leg.wd = 10)
Y <- selec.table
for(i in 10) Y <- rbind(Y, Y)
Y
repeat(10) Y <- rbind(Y, Y)
Y <- selec.table
for(i in 1:4) Y <- rbind(Y, Y)
Y
Y <- selec.table
for(i in 1:4) Y <- rbind(Y, Y)
Y$songtype <- sample(letters[1:3], nrow(Y), replace = T)
Y$site <- rep(letters[4:25], nrow(Y))[1:nrow(Y)]
catalog(X = selec.table, flim = c(1, 10), nrow = 12, ncol = 5,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE,
tags = c("sound.file","songtype", "site"), legend = TRUE,
width = 20, height = 30, tag.pal = list(terrain.colors, heat.colors),
tags = c("songtype", "indiv"))
catalog(X = selec.table, flim = c(1, 10), nrow = 12, ncol = 5,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE,
labels = c("sound.file","songtype", "site"), legend = TRUE,
width = 20, height = 30, tag.pal = list(terrain.colors, heat.colors),
tags = c("songtype", "indiv"))
catalog(X = selec.table, flim = c(1, 10), nrow = 12, ncol = 5,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE,
labels = c("sound.files","songtype", "site"), legend = TRUE,
width = 20, height = 30, tag.pal = list(terrain.colors, heat.colors),
tags = c("songtype", "site"))
catalog(X = Y, flim = c(1, 10), nrow = 12, ncol = 5,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE,
labels = c("sound.files","songtype", "site"), legend = TRUE,
width = 20, height = 30, tag.pal = list(terrain.colors, heat.colors),
tags = c("songtype", "site"))
nrow(Y)
5*12
catalog(X = Y, flim = c(1, 10), nrow = 12, ncol = 5, cex = 3,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE,
labels = c("sound.files","songtype", "site"), legend = TRUE,
width = 20, height = 30, tag.pal = list(terrain.colors, heat.colors),
tags = c("songtype", "site"))
catalog(X = Y, flim = c(1, 10), nrow = 12, ncol = 5, cex = 2,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE,
labels = c("sound.files","songtype", "site"), legend = TRUE,
width = 20, height = 30, tag.pal = list(terrain.colors, heat.colors),
tags = c("songtype", "site"))
catalog(X = Y, flim = c(1, 10), nrow = 12, ncol = 5, cex = 2, leg.wd = 8,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE,
labels = c("sound.files","songtype", "site"), legend = TRUE,
width = 23, height = 30, tag.pal = list(terrain.colors, heat.colors),
tags = c("songtype", "site"))
catalog(X = Y, flim = c(1, 10), nrow = 12, ncol = 5, cex = 2, leg.wd = 8,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE,
labels = c("sound.files","songtype", "site"), legend = TRUE,
width = 23, height = 30, tag.pal = list(terrain.colors, temp.colors),
tags = c("songtype", "site"))
source('~/Dropbox/warbleR/R/catalog.R')
catalog(X = Y, flim = c(1, 10), nrow = 12, ncol = 5, cex = 2, leg.wd = 8,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE,
labels = c("sound.files","songtype", "site"), legend = TRUE,
width = 23, height = 30, tag.pal = list(terrain.colors, temp.colors),
tags = c("songtype", "site"), hatching = 1)
source('~/Dropbox/warbleR/R/rectw.R')
catalog(X = Y, flim = c(1, 10), nrow = 12, ncol = 5, cex = 2, leg.wd = 8,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE,
labels = c("sound.files","songtype", "site"), legend = TRUE,
width = 23, height = 30, tag.pal = list(terrain.colors, temp.colors),
tags = c("songtype", "site"), hatching = 1)
source('~/Dropbox/warbleR/R/spectro2.R')
catalog(X = Y, flim = c(1, 10), nrow = 12, ncol = 5, cex = 2, leg.wd = 8,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE,
labels = c("sound.files","songtype", "site"), legend = TRUE,
width = 23, height = 30, tag.pal = list(terrain.colors, temp.colors),
tags = c("songtype", "site"), hatching = 1)
catalog(X = Y, flim = c(1, 10), nrow = 12, ncol = 5, cex = 2, leg.wd = 8,
same.time.scale = TRUE, mar = 0.01, wl = 200, gr = FALSE,
labels = c("sound.files","songtype", "site"), legend = TRUE,
width = 23, height = 30, tag.pal = list(terrain.colors, temp.colors),
tags = c("songtype", "site"), hatching = 2)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Create song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Create song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
names(selec.table)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Create song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Creating song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Creating song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Creating song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Creating song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Creating song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Creating song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Creating song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Creating song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
KnitPost(site.path = "~/Dropbox/Websites/Blog/maRce10.github.com/", rmd.file =  "~/Dropbox/Websites/Blog/maRce10.github.com/_Rmd/Creating song catalogs.Rmd", categories = "spectrograms", rm.output.text = F)
